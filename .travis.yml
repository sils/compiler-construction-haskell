language: haskell

notifications:
  recipients:
    - lasse@schuirmann.net
  email:
    on_failure: always
    on_success: change

ghc:
  - 7.6
  - 7.4

install:
  - sudo apt-get install build-essential haskell-platform
  - cabal update
  - cabal install cabal-install
  - cabal install BNFC llvm-general
  - ghc-pkg list
  - cd ../..
  - sudo apt-get install python3
  - git clone https://github.com/coala-analyzer/coala --depth 1 coala
  - cd coala
  - sudo python3 setup.py install
  - cd ..
  - sudo rm -rf bnfc coala

script:
  - sh run_tests.sh
  - coala
